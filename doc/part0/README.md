# 前言：开发难在哪里

## 难点一：技术要求高
高可用性、高可靠性、高安全性，分布式应用，可扩展、可伸缩。

### “三高”
* 关键业务系统全年服务不中断；
* 6个月内的各个发行版本必须无条件支持；
* 除非重大版本重构，否则只能使用现行标准框架；
* 所有与其他系统交互的请求均需要回执，并记录回执内容（付款等重要系统会要求确认回执内容）；
* 所有独立系统均需要提供对账功能，并在业务执行的“低谷期”对账；
* 开发人员手机24小时开机，不允许静音，随时备战处置故障。

### 分布式的含义
* 应用分布式部署，执行结果幂等；
* 配置分布式发放；
* 不同执行逻辑切换无波动；
* 计算及存储资源预留超过30%的余量，防止单点故障；

## 难点二：实际业务复杂
业务不确定性高，业务数学模型的参数多（超过3位数），因此在支撑业务时，需要在多个环节增加差异化配置，以应对多变的业务要求。

### “A/B test 对比测试”举例
* 针对北京、天津、上海、南京、广州、深圳的用户，在结算时使用不同的推荐方式，观察购买会员行为的变化：
    * 30%弹窗推荐（会中断付款行为，但是用户一定能看得见）
    * 30%汽泡图标推荐（用户能看得见，但不需要操作就可以继续付款）
    * 40%文字提示推荐（用户不一定会注意到，也不需要操作就可以继续付款）

## 难点三：多系统交互
联动失败的原因需要多业务线联查，增加数据埋点能够减轻排查负担，但过多的数据埋点同样会增加排查的时长和日志系统的负担。

## 难点四：数据安全限制
敏感数据的安全保护，比如用户付款数据、商品进出货价格信息等，都是机密信息，有时需要跨部门协作才能完成调查，沟通成本高。